{% extends "layout/basic.html" %}
{% load static %}

{% block title%} Creating | {% endblock %}

{% block content %}
<div class='show-chat-input' style='width: 100px; height: 70px; margin: auto; margin-top: 2rem;'>
    <form id='form'>
        <button type='submit' id='#chatMessageSubmit'>Delete {{room_name}}?</button>
    </form>
</div>
<script src='https://cdn.jsdelivr.net/npm/js-cookie@beta/dist/js.cookie.min.js'></script>
<script>
    document.querySelector("button").onclick = function (e) {
        e.preventDefault();

        const response = fetch(`${window.location.href}`, {
            method: 'DELETE',
            headers: {
                'Accept': 'application/json',
                'Content-Type': 'application/json',
                'X-CSRFToken': Cookies.get('csrftoken'),
            }}).then(response => response.json())
            .then(json => console.log(json))
        
        window.location.replace("http://127.0.0.1:8000/rooms/")
    }
</script>

{% endblock %}